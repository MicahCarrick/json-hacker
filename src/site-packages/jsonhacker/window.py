from gi.repository import GObject, Gtk, Gio, GdkPixbuf
from jsonhacker import JsonTreeView

class Window(Gtk.ApplicationWindow):
    def __init__(self, application, giofile=None):
        Gtk.ApplicationWindow.__init__(self, 
                                       application=application,
                                       default_width=640,
                                       default_height=480,
                                       title="JSON Hacker")

        self._json_tree = JsonTreeView(icon_dir=application.datadir+'/icons')
        
        sw = Gtk.ScrolledWindow()
        sw.set_policy(Gtk.PolicyType.AUTOMATIC, Gtk.PolicyType.AUTOMATIC)
        sw.add(self._json_tree)

        self._layout_box = Gtk.Box(Gtk.Orientation.VERTICAL)
        self._layout_box.pack_start(sw, True, True, 0)
        self._layout_box.show_all()
        
        self.add(self._layout_box)
        
        with open('/home/micah/checkout/CaptureCustomerDev/flows/signIn/flows.json') as f:
        #with open('./data/example.json') as f:
            self._json_tree.load(f.read())
        

